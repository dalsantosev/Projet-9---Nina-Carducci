function mauGallery(e){var t={...mauGallery.defaults,...e},a=[];document.querySelectorAll(".gallery").forEach((function(e){createRowWrapper(e),t.lightBox&&createLightBox(e,t.lightboxId,t.navigation),listeners(t),e.querySelectorAll(".gallery-item").forEach((function(e){responsiveImageItem(e),moveItemInRowWrapper(e),wrapItemInColumn(e,t.columns);var l=e.getAttribute("data-gallery-tag");t.showTags&&null!==l&&-1===a.indexOf(l)&&a.push(l)})),t.showTags&&showItemTags(e,t.tagsPosition,a),e.style.display="block"}))}function listeners(e){document.querySelectorAll(".gallery-item").forEach((function(t){t.addEventListener("click",(function(){e.lightBox&&"IMG"===t.tagName&&openLightBox(t,e.lightboxId)}))})),document.querySelector(".gallery").addEventListener("click",(function(t){var a=t.target;a.classList.contains("nav-link")?filterByTag(a):a.classList.contains("mg-prev")?prevImage(e.lightboxId):a.classList.contains("mg-next")&&nextImage(e.lightboxId)}))}function createRowWrapper(e){if(!e.firstElementChild.classList.contains("row")){var t=document.createElement("div");t.classList.add("gallery-items-row","row"),e.appendChild(t)}}function wrapItemInColumn(e,t){if("number"==typeof t){var a="item-column mb-4 col-"+Math.ceil(12/t);(l=document.createElement("div")).className=a,e.parentNode.insertBefore(l,e),l.appendChild(e)}else if("object"==typeof t){var l;a="";t.xs&&(a+=" col-"+Math.ceil(12/t.xs)),t.sm&&(a+=" col-sm-"+Math.ceil(12/t.sm)),t.md&&(a+=" col-md-"+Math.ceil(12/t.md)),t.lg&&(a+=" col-lg-"+Math.ceil(12/t.lg)),t.xl&&(a+=" col-xl-"+Math.ceil(12/t.xl)),(l=document.createElement("div")).className="item-column mb-4 "+a,e.parentNode.insertBefore(l,e),l.appendChild(e)}else console.error("Columns should be defined as numbers or objects. "+typeof t+" is not supported.")}function moveItemInRowWrapper(e){e.parentNode.querySelector(".gallery-items-row").appendChild(e)}function responsiveImageItem(e){"IMG"===e.tagName&&e.classList.add("img-fluid")}function openLightBox(e,t){document.querySelector("#"+(t||"galleryLightbox")).querySelector(".lightboxImage").src=e.src,new bootstrap.Modal(document.querySelector("#"+(t||"galleryLightbox"))).show()}function prevImage(e){var t=document.querySelector(".lightboxImage");if(t){var a=t.src,l=document.querySelector(".tags-bar span.active-tag").getAttribute("data-images-toggle"),o=[];"all"===l?document.querySelectorAll(".item-column img").forEach((function(e){o.push(e)})):document.querySelectorAll(".item-column img").forEach((function(e){e.getAttribute("data-gallery-tag")===l&&o.push(e)}));var n=o.findIndex((function(e){return e.src===a}))-1;n<0&&(n=o.length-1),t.src=o[n].src}}function nextImage(e){var t=document.querySelector(".lightboxImage");if(t){var a=t.src,l=document.querySelector(".tags-bar span.active-tag").getAttribute("data-images-toggle"),o=[];"all"===l?document.querySelectorAll(".item-column img").forEach((function(e){o.push(e)})):document.querySelectorAll(".item-column img").forEach((function(e){e.getAttribute("data-gallery-tag")===l&&o.push(e)}));var n=o.findIndex((function(e){return e.src===a}))+1;n>=o.length&&(n=0),t.src=o[n].src}}function createLightBox(e,t,a){var l=document.createElement("div");l.classList.add("modal-content"),l.innerHTML=`\n          <div class="modal-body">\n            ${a?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':'<span style="display:none;" />'}\n            <img class="lightboxImage img-fluid" alt="Contenu de l'image affichÃ©e dans la modale au clique"/>\n            ${a?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">></div>':'<span style="display:none;" />'}\n          </div>\n        `;var o=document.createElement("div");o.classList.add("modal","fade"),o.id=t||"galleryLightbox",o.tabIndex=-1,o.role="dialog",o.ariaHidden=!0,o.appendChild(document.createElement("div")).classList.add("modal-dialog"),o.querySelector(".modal-dialog").appendChild(l),e.appendChild(o)}function showItemTags(e,t,a){var l='\n          <li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>\n        ';a.forEach((function(e){l+=`\n            <li class="nav-item active">\n              <span class="nav-link" data-images-toggle="${e}">${e}</span>\n            </li>\n          `}));var o=document.createElement("ul");o.classList.add("my-4","tags-bar","nav","nav-pills"),o.innerHTML=l,"bottom"===t?e.appendChild(o):"top"===t?e.insertBefore(o,e.firstChild):console.error("Unknown tags position: "+t)}function filterByTag(e){if(!e.classList.contains("active-tag")){document.querySelectorAll(".active.active-tag").forEach((function(e){e.classList.remove("active","active-tag")})),e.classList.add("active-tag","active");var t=e.getAttribute("data-images-toggle");document.querySelectorAll(".gallery-item").forEach((function(e){e.closest(".item-column").style.display="none",("all"===t||e.getAttribute("data-gallery-tag")===t)&&(e.closest(".item-column").style.display="block")}))}}mauGallery.defaults={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0};export default mauGallery;